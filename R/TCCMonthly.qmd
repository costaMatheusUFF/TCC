---
title: "Análise da aplicação da teoria moderna de portfólio de Markowitz no mercado de criptomoedas"
author: "Matheus Pereira Costa"
date: last-modified
date-modified: "DD/MM/YYYY"
format: 
   docx:
     toc: true
     toc-title: "Sumário"
     toc-depth: 3
     number-depth: 3 
     number-sections: true
     link-citations: true 
     link-bibliography: true
     table-of-contents: true 
     reference-doc: source/ModeloTCC8.dotx
     output-file: "TCC"
     output-ext: "docx"
language: source/_language.yml
csl: source/ABNT.csl
bibliography: source/references.bib
execute: 
  echo: false
  warning: false
---

```{r}
#| label: start

library(tidyverse)
library(quantmod)
library(scales)
library(PerformanceAnalytics)
library(openxlsx)
library(corrplot)
library(RColorBrewer)
library(knitr)
source("functions/allFunctions.R")
source("source/variaveis.R")


dataInicio = dmyFormat(from)
dataFim = dmyFormat(to)
figWidth = 5.7
figHeight = 4

## codigo

prices = getSymbols(symbols,
                        src = "yahoo",
                        from=from,
                        to=to,
                        auto.assign = TRUE) %>%
      map(~Ad(get(.))) %>%
      reduce(merge) %>%
      setNames(symbols)

prices_monthly <- to.monthly(prices,
                              indexAt = "lastof",
                              OHLC = FALSE)
    
    
asset_return = Return.calculate(prices_monthly,method = "log")  %>% na.omit()

dataPortfolio = dmyFormat(first(index(asset_return))) 

covariance_cryptocurrency = cov(asset_return)
correlation_cryptocurrency = cor(asset_return)

asset_return_long = returnToLong(asset_return,symbols)

summary_asset_long = asset_return_long %>% 
  group_by(asset) %>% 
  summarise(sd=sd(returns),mean=mean(returns))

less_riskier = slice_min(summary_asset_long,sd)
more_proftible = slice_max(summary_asset_long,mean)

# portfolio igual

w = 1/Nsymbols %>% rep(Nsymbols)

portfolio_return = Return.portfolio(asset_return,weights = w,rebalance_on = "months")
sd_portfolio = sd(portfolio_return$portfolio.returns)
mean_portfolio = mean(portfolio_return$portfolio.returns)
sr_portfolio = SharpeRatio(portfolio_return,Rf=rfr,FUN = "StdDev")

summaryPortfolioEquity= data.frame(asset=symbols,w,sharpeRatePortfolio=as.numeric(sr_portfolio),sd=sd_portfolio,mean=mean_portfolio)  %>%
  pivot_wider(names_from = asset,values_from = w) %>% 
  relocate(all_of(symbols))  %>%
  suppressWarnings()

# portfolio otimizado

possibilities = loadPossibilites(filePossibilites,fullPathPossibilites,symbols,by)

min_var <- slice_min(possibilities,sd)
max_sr <- slice_max(possibilities,sharpeRatePortfolio)
max_re <- slice_max(possibilities,sharpeRatePortfolio)


bestCombination = slice_max(possibilities,sharpeRatePortfolio)
summaryBestCombination = bestCombination[which(bestCombination[1:Nsymbols] > 0)]
safetyCombination = slice_min(possibilities,sd)
summarysafetyCombination = safetyCombination[which(safetyCombination[1:Nsymbols] > 0)]


w = max_sr[1:Nsymbols] %>% unlist()

portfolio_return_opmitized = Return.portfolio(asset_return,
                                              weights = w,
                                              rebalance_on = "months")

sd_portfolio_optimized = sd(portfolio_return_opmitized$portfolio.returns)
mean_portfolio_optimized = mean(portfolio_return_opmitized$portfolio.returns)
sr_portfolio_optimized = max_sr$sharpeRatePortfolio

### comparando portfólios

summaryPortfolios = rbind(summaryPortfolioEquity,bestCombination) %>%
  mutate(Portfólio=c("Igualmente distribuído","Otimizado")) %>%
  relocate(Portfólio) 

### limitando o eixo Y

yMax = max(c(portfolio_return$portfolio.returns, portfolio_return_opmitized$portfolio.returns)) 
yMin = min(c(portfolio_return$portfolio.returns, portfolio_return_opmitized$portfolio.returns)) 


### grafico retorno portfolios


portfolio_plot = portfolio_return %>% 
  as.data.frame(row.names = index(.)) %>%
  rownames_to_column("date") %>%
  rename("returns"=portfolio.returns) %>%
  mutate(date = as.Date(date),
         color = case_when(
           returns < mean_portfolio - sd_portfolio ~ "red",
           returns > mean_portfolio + sd_portfolio ~ "green",
           T ~ "darkblue"
         ),
         color= factor(color, levels = c("green","darkblue","red")))


portfolio_plot_optimized = portfolio_return_opmitized %>% 
  as.data.frame(row.names = index(.)) %>%
  rownames_to_column("date") %>%
  rename("returns"=portfolio.returns) %>%
  mutate(date = as.Date(date),
         color = case_when(
           returns < mean_portfolio_optimized - sd_portfolio_optimized ~ "red",
           returns > mean_portfolio_optimized + sd_portfolio_optimized ~ "green",
           T ~ "darkblue"
         ),
         color= factor(color, levels = c("green","darkblue","red")))


```

\pagebreak

Resumo

**Contexto**: O mercado de criptomoeda tem se maturado como uma alternativa ao mercado de investimento de renda variável. **Lacuna**: Por ser algo recente ainda há poucos estudos a utilizar a teoria moderna de portfólio de Markowitz aplicado a este tipo de carteira. **Proposta**: Devido à alta volatilidade deste mercado, o estudo tem por objetivo verificar a aplicação da teoria moderna de portfólio de Markowitz no mercado de criptomoeda. **Metodologia**: Essa pesquisa se caracteriza como uma pesquisa exploratória-quantitativa que contêm uma revisão bibliográfica e a correspondente análise de dados. **Resultados**: Obteve-se um resultado positivo ao calcular o índice Sharpe de diversas combinações de carteira e traçar a fronteira eficiente o que corrobora com a aplicação da teoria moderna de portfólio de Markowitz no mercado de criptomoedas.

# INTRODUÇÃO {#sec-introducao}

As criptomoedas são observadas por diversos grupos da sociedade ao redor do mundo, como por exemplo: investidores, financeiras, organizações governamentais, bancos centrais, legisladores, economistas, pesquisadores e etc. Umas das explicações possíveis a esse fenômeno se dá pelo alto nível de liquidez a partir de uma flexibilização monetária, e também pela possibilidade de auferir rendimentos financeiros [@arzova2021].

No entanto há divergências na classificação das criptomoedas [BOURI, 2017 apud @kliber2019].

Para @ozdurak2022 elas podem ser classificadas em diversos grupos como: instrumentos financeiros, valores mobiliários, commodities ou instrumento de pagamento. De acordo com @fry2023 as criptomoedas se assemelham, no geral, como uma classe de ativo financeiro tecnológica. São exceções o Bitcoin e a Solana, nos quais têm características de moeda.

Já para @breunig2020 o Bitcoin não deva ser categorizado como uma moeda fiduciária, devido não possuir a função reserva de valor, pois possui a alta variação no seu preço.

O Brasil se integra a um grupo seleto de países que possuem regulamentação para as criptomoedas por intermédio da Lei 14.478/2022, no qual conceitua as criptomoedas como os ativos virtuais. A lei classifica as criptomoedas como representação de valor que pode ser negociada, utilizada como meio de pagamento ou com propósitos de investimentos. Fica desassociado o Bitcoin como moeda fiduciária [@neto2023].

De acordo com @anbima2023 cerca de 36% da população brasileira, 60 milhões de brasileiros, investem em produtos financeiros. Para eles a seleção de portfólio é um problema a ser enfrentado [@zanjirdar2020].

Para auxiliar na seleção da melhor carteira com base no risco e retorno, são utilizados modelos de otimização de portfólio [@neto2022].

Harry Markowitz foi um dos pioneiros na otimização do portfólio ao realizar estudos que verificavam os benefícios da diversificação da carteira [@zanjirdar2020]

O seu estudo foi baseado na regra que o retorno esperado é desejável e o risco é indesejável [@markowitz1952].

Ou seja, a teoria moderna de portfólio se baseia na abordagem da construção de portfólio com o intuito de maximizar o retorno esperado a um menor risco [@abubakar2019].

Este estudo teve por objetivo verificar a aplicação da teoria moderna de portfólio no mercado de criptomoedas.

Foi empregado o conceito de criptomoedas como ativo financeiro, devido ao seu perfil de risco e retorno e a sua característica especulativa.

A carteira foi composta por `r textList(Fsymbols)`. E foi verificada a relação de risco e retorno entre cada um dos ativos selecionados, a correlação entre esses ativos. Depois foi calculada a melhor combinação de portfólio com base no índice Sharpe e comparado os resultados do portfólio otimizado contra um igualmente distribuído.

Para os cálculos e gráficos utilizou-se a linguagem de programação R e também para testar `r  format(nrow(possibilities),big.mark=".",decimal.mark=",")` diferentes combinações de carteira, ao variar os pesos de cada ativo na carteira em `r toPercent(by)` de suas participações. Foram utilizadas as seguintes restrições para o cálculo: os pesos dos ativos deveriam ser maiores ou iguais a 0, menores ou iguais a 1 e o somatório de todos pesos da carteira fosse igual a 1.

Além desta breve introdução, este estudo está estruturado da seguinte forma. No @sec-metodologia apresenta a metodologia da pesquisa. No @sec-revisao é realizado uma breve revisão sobre as criptomoedas selecionadas. No @sec-desenvolvimento é feito a revisão da literatura sobre o que são criptomoedas, suas classificações, apresenta o conceito de moeda do ponto de vista econômico e jurídico e apresenta o conceito de Markowitz. No @sec-resultados são apresentados os resultados. No @sec-conclusao apresenta-se as considerações finais do estudo.

# METODOLOGIA {#sec-metodologia}

Esse trabalho teve por objetivo principal: verificar a aplicação da teoria moderna de portfólio no mercado de criptomoedas. Teve como objetivos específicos: conceituar criptomoedas como ativos financeiros, diferenciar o mercado criptomoeda do mercado de renda variável, verificar a classificação das criptomoedas na regulação brasileira e comparar o resultado da utilização da teoria moderna de portfólio de Markowitz contra uma seleção de portifólio igualmente distribuído.

Esta pesquisa se classifica como objetivo exploratória, com a abordagem quantitativa, possui natureza básica e utiliza o método dedutivo.

A revisão bibliográfica foi realizada sobre uma seleção de artigos disponíveis nas plataformas: Periódicos CAPES, Scopus e Google Acadêmico. No qual atenderam aos seguintes critérios de busca: Markowitz, portfólio optimization, otimização de portfólio, cryptocurrency, criptomoeda, currency, moeda, stock market, mercado de renda variável, bolsa de valores, cryptomarket, mercado de criptomoedas, regulation, regulação, scams, golpes. Os idiomas de pesquisa foram limitados a português e inglês. Também foi limitado as pesquisas entre o período de 2018 até 2023.

Foram utilizados como fonte para a realização dos códigos em R [@regenstein2018] e [@portfoli2018].

Para realizar os cálculos foi utilizado a linguagem de programação R e os seguintes pacotes: *corrplot* [@wei2021], ggplot2 [@wickham2016], *knitr* [@xie2014], *PerformanceAnalytics* [@peterson2020], *quantmod* [@ryan2022], *rbcb* [@freitas2022], *RColorBrewer* [@neuwirth2022], *tidyverse* [@wickham2019] e *xts* [@ryan2023]. Além disso também foi utilizado funções pré-instaladas no *R* [@base]

É ilustrado a utilização de cada um dos pacotes mencionados anteriormente no seguinte diagrama feito através do pacote *mermaid* [@mermaid]

```{mermaid}
%%| fig-width: 5.75
%%| fig-height: 5

flowchart TD
 a([Obtenção de dados]) ---|SELIC| b[rbcb] 
 a ---|Criptomoedas | c[quantmod] 
 b & c --> d[Transformação]
 d --> e[tidyverse] & f[R] & g[PerformanceAnalytics] & h[xts]
 e & f & g & h --> i{Resultado}
 i --> j[Grafico] & k[Tabela]
 j --> l[ggplot2] & m[corrplot] & n[RColorBrewer]
 k --> o[tidyverse] & p[knitr]
  
```

Os cálculos para a realização dos retornos mensais, retornos do portfólio e do índice Sharpe foram feitos através das seguintes funções *Return.calculate*, *Return.portfolio* e *SharpeRatio*. Estas funções pertencem ao pacote *PerformanceAnalytics* [@peterson2020].

Para realizar os cálculos das matrizes de covariância, correlação e a expectativa de retorno média. Foram utilizadas as funções *cov*, *cor* e *mean* do *R* [@base].

Para realizar a criação dos gráficos foram utilizados um conjunto de funções do pacote *ggplot2* [@wickham2016]: *labs*, *expand_limits*, *ggplot*, *geom_hline*, *geom_point*, *geom_segment*, *geom_text*, *theme*, *theme_bw*, *scale_x_continuous*, *scale_y_continuous*, *scale_color_manual* e *scale_x_date*.

O pacote *tidyverse* [@wickham2019] foi utilizado para a realização da manipulação dos dados, as funções usadas foram: *arrange*, *as.data.frame*, *group_by*, *map*, *pivot_longer*, *reduce*, *rownames_to_column*, *setNames*, *slice_max*, *slice_min* e *summarise*.

Para a realização do gráfico de covariância foi utilizado a função *corrplot* do pacote *corrplot* [@wei2021] e a função *brewer.pal* foi utilizado para a seleção da paleta de cores do gráfico, no qual pertence ao pacote *RColorBrewer* [@neuwirth2022].

Para realizar as diversas combinações de pesos possíveis ao portfólio, foi usado as funções do *R* [@base], são elas: *as.numeric*,*do.call*, *expand.grid*, *length*, *list*, *nrow*, *rbind*, *rep*, *rowSums*, *setNames*, *seq* e *which*. Além disso foram utilizadas as funções do *tidyverse* [@wickham2019], são elas: *as_tibble*, *reduce*, ,*mutate*, *filter*, *select*, *setNames* e *slice*.

Foi variada por `r by`, ou seja `r toPercent(by)`, os pesos em cada combinação de modo a respeitar que os pesos dos ativos deveriam ser maiores ou iguais a 0, menores ou iguais a 1 e o somatório de todos pesos da carteira fosse igual a 1, no qual 1 é igual a 100%. Foi gerado um total de `r format(nrow(possibilities),big.mark=".",decimal.mark=",")` possíveis combinações com `r Nsymbols` ativos na carteira.

Para iterar sobre cada um dos pesos foi utilizado a função *for* do *R* [@base], que é uma função de looping até que determinada condição seja satisfeita.

Para a seleção das criptomoedas foi utilizado o critério das 10 maiores criptomoedas em relação a capitalização de mercado de acordo com a plataforma *coinmarketcap* [@preços] no dia 01/05/2023. Foi removido os ativos Tether e Usd coin devido a elas funcionarem como uma moeda digital fiduciária, no qual é pareado o seu valor 1:1 com o dólar. Dessa forma a carteira foi composta de `r Nsymbols` criptomoedas.

Os ativos selecionados foram: `r textList(Fsymbols)`. No qual os seus símbolos são representados em pares com o a moeda estável USD, são eles: `r textList(symbols)`.

Os dados foram obtidos através da plataforma Yahoo Finance [@yahoofi] ao utilizar a função *getSymbols* do pacote *quantmod*, no qual o período analisado foi de `r dataInicio` até `r dataFim`. Foi utilizado os dados referentes ao último dia de cada mês ao utilizar a função *to.monthly* do pacote *xts* [@ryan2023].

É importante destacar que devido a criptomoeda da Solana só ter seus dados disponíveis a partir de 11/04/2020, a análise para a composição do portfólio foi realizada a partir dessa data em diante.

A taxa livre de risco foi utilizada com base na taxa SELIC ao usar a estrutura de @ramalho2020 no qual transforma a taxa SELIC anual média para mensal através da equação de conversão de juros anual para mensal.

A formula para realizar a conversão da taxa de juros anual para mensal utilizada foi:

$$ \overline{i_{a.m}} = (1+\overline{i_{a.a}})^\frac{1}{12}-1 $$

Onde: $\overline{i_{a.m}}$ = taxa de juros média mensal e $\overline{i_{a.a}}$ = taxa de juros média anual

Os dados da taxa SELIC foram obtidos através da função *get_series* do pacote *rbcb* no qual realiza consultas na API (Application Programming Interface, Interface de programação de aplicações) do banco central [@BancoCentralAPI]. Os dados coletados da taxa SELIC foram do mesmo período analisado das criptomoedas, 01/01/2020 até 01/01/2023. A taxa SELIC anual média analisada foi de `r toPercent(selicAnualMedia)` e a taxa SELIC mensal média foi de `r toPercent(rfr)`.

# REVISÃO SOBRE AS CRIPTOMOEDAS UTILIZADAS {#sec-revisao}

Foram utilizadas nesse trabalho `r Nsymbols` criptomoedas, esta seção traz uma breve revisão sobre elas.

O Bitcoin [@bitcoina] foi criada em 2008 com característica de ser uma moeda descentralizada no qual permite transações entre as partes sem intermediários e não possui alguma entidade que o controle, porém há contribuições continuas de diversos programadores para a continua evolução e melhoria da rede [@bitcoin].

O Ethereum [@ethereuma] assim como o Bitcoin, também é uma criptomoeda descentralizada e funciona como um meio para que as outras criptomoedas possam operar em sua rede, tem como destaque a elaboração dos contratos inteligentes. Ela teve seu whitepaper publicado em 2013, porém só foi fundada em 2014 por oito cofundadores, dentre eles o Vitalik Buterin é o mais conhecido, a sua sede fica na cidade de Zug, Suíça. Tem como seus principais objetivos ser uma plataforma universal para outras criptomoedas executem seus softwares nela [@ethereum].

O Binance [@binance] é um token da Binance que por sua vez é uma corretora de criptomoeda, ela oferece desconto em taxas aos seus detentores e direito de participação em lançamentos de tokens dentro de sua plataforma, foi lançado em 2017 através de uma ICO [@bnb].

A XRP [@ripplex] é uma moeda nativa da plataforma da Ripple, foi criada em 2012 pela empresa Ripple Labs Inc com o objetivo de ser um sistema de pagamento global, uma das suas principais vantagens é o baixo custo de enviar dinheiro por sua rede [@xrp].

O Cardano [@cardanoa] foi lançado em 2017, ela é utilizada por empresas agrícolas no rastreio dos seus produtos. Tem como característica a participação democrática dos detentores de sua moeda sobre as mudanças projetadas na rede por sua equipe [@cardano].

A Dogecoin [@dogecoina] é uma moeda meme de uma raça de cachorro Shiba Inu, no qual foi criada em 2013 por Billy Markus e entre outros, porém só foi lançada em 2014. Ela é usada principalmente como um sistema de gorjeta no fórum do Reddit e também é utilizada com o intuito especulativo já que ele é influenciado pelas redes sociais [@dogecoin].

A Solana [@solanas] foi criada com o intuito de facilitar a elaboração de D'app que também são conhecidos como aplicativos descentralizados. Ela foi criada em 2020 pela empresa Solana Foundation, ela tem sua sede em Genebra, Suíça. Ela apresenta uma inovação ao introduzir o sistema de proof of history no qual permite maior usabilidade no protocolo [@solana].

A Matic [@maticne] é uma criptomoeda da Polygon que funciona como meio para transações dentro da sua rede, foi criada em 2017 por Jaynti Kanani, Sandeep Nailwal e Anurag Arjun. Tem como funcionalidades: a possibilidade da participação das decisões adotadas dentro do projeto, funcionar como um meio de pagamento e staking, que é uma forma de obter renda passiva com o ativo. A polygon é uma plataforma que busca facilitar a conexão entre redes compatíveis com a ethereum [@polygon].

# REVISÂO DE LITERATURA {#sec-desenvolvimento}

## CRIPTOMOEDA {#sec-desenvolvimento-criptomoeda}

As criptomoedas são observadas por diversos grupos da sociedade ao redor do mundo, como por exemplo: investidores, financeiras, organizações governamentais, bancos centrais, legisladores, economistas, pesquisadores e etc. Umas das explicações possíveis a esse fenômeno se dá pelo alto nível de liquidez a partir de uma flexibilização monetária, e também pela possibilidade de auferir rendimentos financeiros [@arzova2021].

O seu termo surgiu com o advento da inovação tecnológica desenvolvida pelo pseudônimo Satoshi Nakamoto ao criar o Bitcoin com o intuito de ser um meio de troca. A criptomoeda, por não haver uma figura de autoridade central, se baseia na criptografia para controle e administração  [@kliber2019].

Com a criação do Bitcoin, foi concretizado os desejos de grupos liberais, que entendem o instrumento da criptografia como uma alternativa viável contra o controle e supervisão estatal por volta dos anos 1980 e 1990 [@mattos2020].

As criptomoedas possuem a características de uma moeda descentralizada que operam sob a blockchain. Elas são operadas de forma de pessoal, de indivíduo para indivíduo, ou empresas, sem a interferência de terceiras partes envolvidas, no qual a validação de cada transação é feita por computadores conectados à rede [@mattos2020].

O conceito de blockchain para o mercado de criptomoedas, é como um livro-razão onde se registra dados das transações. No qual só pode ser adicionado o novo dado ao final deste livro [@kolb2021].

Novos blocos são adicionados por certos nós na rede e vinculados criptograficamente a blocos de dados anteriores, o que torna a blockchain inviolável e acessível a todos na rede [@schellinger2020].

Para que um nó valide determinado bloco na blockchain é feito um trabalho denominado de mineração [ULRICH, 2014 apud @aragon2018].

O conceito de mineração consiste em um processo no qual computadores conectados à rede tentam solucionar os cálculos matemáticos [ULRICH, 2014 apud @aragon2018].

O processo de mineração criptomoeda se tornou uma forma de renda acessível onde há uma alta inflação e falta de confiança nos governos locais [@kliber2019].

Um exemplo é o caso da Venezuela, pois em um período, a eletricidade era subsidiada então não havia custos de energia para o indivíduo. No entanto em 2016 o presidente Maduro anunciou a proibição de mineração de Bitcoin e outras criptomoedas, em 2018 foi declarado legal novamente devido a vontade do governo de lançar a sua própria criptomoeda nacional [@kliber2019].

Além disso as criptomoedas possibilitaram uma nova forma de arrecadar fundos para pequenas startups através da ICO (Initial Coin Ofering, oferta inicial da moeda) [@xu2021].

O conceito de ICO é compreendido como uma forma descentralizada de fundo colaborativo no qual é empregado sobre a rede da blockchain, para arrecadação através da emissão de tokens. Portanto possui a característica do rápido método de financiamento e um limite baixo [@xu2021].

Há a possibilidade do uso dessa nova tecnologia aplicado ao sistema financeiro, com objetivo de facilitar a inclusão financeira aos indivíduos marginais da sociedade, no qual não possuem banco e, portanto, não se comunicam com um sistema financeiro formal. Dessa forma as remessas financeiras ocorreriam através de criptomoedas e transferências mobiles [@ma2020].

Por outro lado, o mercado de criptomoedas possui riscos como por exemplo a assimetria da informação entre os mercados, seja elas causadas por problemas de softwares (Bugs, hacks e etc) [@benedetti2021].

Outro ponto a destacar é a presença de bolhas no mercado de criptomoedas devido a alta expectativa do seu preço no futuro e ao risco assumido [@white2020].

Para @schellinger2020 o aparecimento de bolhas no mercado de criptomoedas é devido à alta especulação.

Além disso, o mercado de criptomoedas é sujeito a diversos tipos de golpes, no qual é categorizado entre sete tipos de golpes principais: esquemas ponzi, malware, falsos serviços criptos, golpes de taxas avançadas, e-mail negro, falsa ICO e lavagem de dinheiro [@bartoletti2021].

De tal forma é possível notar duas diferenças principais entre o mercado de renda variável com o de criptomoedas, são elas: o ambiente regulatório e a característica tecnológica aplicada [@benedetti2021].

A falta de regulação aplicadas ao mercado de criptomoedas acaba por não garantir a integridade desse mercado e a sua transparência é o fator mais distintivo entre o mercado de renda variável, porém já é possível notar um desenvolvimento nesse sentido com a adesão dos procedimentos contra lavagem de dinheiro (AML), conheça seu cliente (KYC) e requerimento de reserva [@benedetti2021].

Em relação a tecnologia, o mercado de criptomoedas é marcado pela custodia descentralizada, ou seja, o mercado assume a custodia do token no qual o usuário transfere de sua carteira para o mercado [@benedetti2021].

Já para o mercado de renda variável é o oposto, a custodia é centralizada no qual as operações sobre ele são feitas através de intermediários enquanto no mercado criptoativo as operações são feitas diretamente entre as partes [@benedetti2021].

No entanto há divergência da classificação das criptomoedas [BOURI, 2017 apud @kliber2019].

Para Chuen (2015) devido as criptomoedas serem sujeitas a oscilações diárias em seu valor e serem negociadas através de corretoras especializadas em criptomoedas, faz com que elas se caracterizem mais como um ativo financeiro [apud @mattos2020]. Para @ozdurak2022 elas podem ser classificadas em diversos grupos como: instrumentos financeiros, valores mobiliários, commodities ou instrumento de pagamento. De acordo com @fry2023 as criptomoedas se assemelham, no geral, como uma classe de ativo financeiro tecnológica. São exceções o Bitcoin e a Solana, nos quais têm características de moeda.

Portanto devido a possibilidade da caracterização da criptomoeda como uma moeda fiduciária, se faz necessário uma análise sobre o conceito de moeda e sua classificação do ponto de vista jurídico.

## MOEDA {#sec-desenvolvimento-moeda}

O conceito de moeda é caracterizado como uma criação do estado com a finalidade de ser um meio de pagamento para obrigações fiscais [KNAPP. 2023 apud @bernardo2019].

Ou seja, a moeda é um reconhecimento de dívida. No qual a transformação em dinheiro é realizada através do poder do estado de declarar que é passível de quitação de outras dividas [@mattos2020].

Para que seja considerado uma moeda, ela deve exercer três funções elementares: meio de troca, unidade de conta e reserva de valor [NUNES, 2016 apud @aragon2018].

A função meio de troca é o que possibilita a realização de compra e venda entre bens e serviços, a função unidade de conta é o que permite uma padronização monetária para que as mercadorias e os insumos sejam quantificados em dinheiro e a função reserva de valor resguardar o valor do dinheiro utilizado para que em momento posterior possa ser usado como meio de troca [@estellita2020].

Além dessas três funções clássicas da moeda, ela deve conter as seguintes características: divisibilidade, durabilidade, alta complexibilidade para falsificação, manuseabilidade e transportabilidade [@breunig2020].

No caso específico do Bitcoin, ele tem as propriedades da divisibilidade e portabilidade, possui assim características de ser um meio de pagamento descentralizado [ARAÚJO; SILVA, 2017 apud @junior2021].

Para Woodford (2011) As criptomoedas com características semelhantes ao Bitcoin possuem as funções reservas de valor, meio de troca, mas não a da unidade de conta pois a falta de uma ampla aceitação da sociedade para utilizarem ao realizar trocas entre si [apud @white2020].

Já para @breunig2020 o Bitcoin não deva ser categorizado como uma moeda fiduciária devido não possuir a função reserva de valor pois possui a alta variação no seu preço.

Esse pensamento é confirmado também por @aragon2018 ao relacionar a alta volatilidade do Bitcoin com o principal fator impeditivo de classifica-la como moeda e assim a afasta de seu proposito originário.

## REGULAÇÃO {#sec-desenvolvimento-regulacao}

Para o âmbito jurídico a moeda deve possuir o curso legal que é classificado quando as pessoas de uma determinada sociedade tem por obrigação aceitar a moeda, o curso forçado quando não é permitido pedir reembolso em forma de outros ativos e o poder liberatório quando é meio jurídico valido para quitar dívidas e obrigações contraídas [@castello2019].

Segundo Telles (2020, p. 59) as criptomoedas não possuem nenhum desses atributos [apud @morais2022].

Para Silveira (2020, p. 30/31) há a possibilidade delas possuírem o poder libertário [apud @morais2022].

No geral as criptomoedas tem diversas classificações acerca de como deva ser compreendida ao redor do mundo, enquanto alguns países baniram o direito da comercialização e da circulação da moeda, como é o caso de Nepal. Porém em sua grande maioria é liberado, na Itália e Japão é exigido o registro e a licença da operação da criptomoeda e no México é aceito como meio de pagamento [@shirakawa2019].

O Brasil se integra a um grupo seleto de países que possuem regulamentação para as criptomoedas por intermédio da Lei 14.478/2022, no qual conceitua as criptomoedas como os ativos virtuais. A lei classifica as criptomoedas como representação de valor que pode ser negociada, utilizada como meio de pagamento ou com propósitos de investimentos. Fica desassociado o Bitcoin como moeda fiduciária [@neto2023].

A lei também procura regular as corretoras de criptomoedas, pois elas só poderão atuar em território brasileiro mediante autorização dos órgãos da administração pública, além disso também ficou permitido ao Banco Central acumular ou prestar serviço de ativos virtuais [@neto2023].

Segundo Vaz de Almeida (2023) com a criação da lei ficou estabelecido um dispositivo no qual prever a criação de um novo código penal específico aplicado a fraudes que envolvem criptomoedas [apud @fontgalland2023].

A classificação de prestadoras de serviço de criptomoedas passou a ser semelhante a de instituições financeiras, também foi estabelecido que tais agentes se enquadravam no rol do artigo 9 da lei 9.613 aplicados a lavagem de dinheiro e no código de defesa do consumidor ao conduzir operações no mercado de criptomoedas [@fontgalland2023].

## MARKOWITZ {#sec-desenvolvimento-markowitz}

De acordo com @anbima2023 cerca de 36% da população brasileira, 60 milhões de brasileiros, investem em produtos financeiros. Para eles a seleção de portfólio é um problema a ser enfrentado [@zanjirdar2020].

Para auxiliar na seleção da melhor carteira com base no risco e retorno, são utilizados modelos de otimização de portfólio [@neto2022].

Harry Markowitz foi um dos pioneiros na otimização do portfólio ao realizar estudos que verificavam os benefícios da diversificação da carteira [@zanjirdar2020]. Ele nasceu em 1927 em Chicago, Estados Unidos [@nobelPrize]. Publicou sua teoria em 1952, intitulada seleção de portfólio, no qual posteriormente passou a ser conhecida como teoria moderna de portfólio [@neto2022]. Em 1990 recebeu o prêmio Nobel de economia pela teoria que revolucionou a forma de construir uma carteira de investimento e faleceu no dia 22 de junho de 2023 [@Suno].

O seu estudo foi baseado na regra que o retorno esperado é desejável e o risco é indesejável [@markowitz1952].

Ou seja, a teoria moderna de portfólio desenvolvida por Harry Markowitz se baseia na abordagem da construção de portfólio com o intuito de maximizar o retorno esperado a um menor risco [@abubakar2019].

O retorno esperado de cada ativo pode ser calculado através da subtração logarítmica [@arzova2021]

$$
R_{x,t} = log(P_{t}) - log(P_{t-1})
$$

Onde: $R_{x,t}$ = Retorno do ativo x no período t e P = Preço do ativo no período t

O risco do ativo é calculado através da formula do desvio padrão [@abubakar2019].

$$ \sigma_{x} = \sqrt{\frac{\sum^{n}_{i=1}(x_{i}-\overline{x})^2}{n-1}} $$

Onde: $\sigma_{x}$ = desvio padrão de x, n = é o número pontos, $x_{i}$ = os dados de cada valor e $\overline{x}$ = é a média da variável x

Para calcular o risco do portfólio é utilizado a equação variância e desvio padrão [@silva2019].

$$ 
\sigma_{p}^{2}= w_{x}^{2}\sigma_{x}^{2} + w_{y}^{2}\sigma_{y}^{2} + 2 w_{x} w_{y} \rho_{xy}\sigma_{x} \sigma_{y}
$$

Onde: $\sigma^{2}_{p}$ = Variancia do portfólio, $w^{2}_{x}$ = porporção do peso investido no ativo x, $\sigma^{2}_{x}$ = Desvio padrão do ativo x, $w^{2}_{y}$ = porporção do peso investido no ativo y, $\sigma^{2}_{y}$ = Desvio padrão do ativo y, $\rho_{xy}$ = Correlação entre o ativo x e y.

$$ 
\sigma_{p}=\sqrt{\sigma_{p}^{2}}
$$

Onde: $\sigma_{p}$ = Desvio padrão do portfólio e $\sigma^{2}_{p}$ = variância do portfólio.

A diversificação do portfólio tem por intenção suavizar os riscos não sistêmicos em um portfólio, no qual se baseia em que se um ativo tiver uma performance ruim, logo os outros ativos da sua cesta neutralizarão o desempenho negativo, dado que a correlação entre eles seja negativa [@kliber2019].

A correlação é uma medida de como os ativos se movem juntos, ou seja, é um coeficiente que indica a forma como os ativos podem ser usados para um portfólio com o intuito de diversificação [@ram2018].

$$
P_{X,Y} = \frac{E[ (X-\mu_{x}) (Y - \mu_{y}) ]}{\sigma_{X}\sigma_{Y}}
$$

Onde: $\mu_{X}$ = É a média da variável X, $\mu_{Y}$ = É a média da variável Y e E = Valor esperado.

O risco pode ser reduzido com a introdução de ativos negativamente correlacionados ao portfólio [@abubakar2019].

Para realizar a diversificação do portfólio tem por regra que os pesos de cada ativo sejam maiores ou iguais a zero e o somatório dos pesos dos ativos seja igual a 1 [@markowitz1952].

$$
\sum{W_{i}} = 1
$$

Onde: $W_{i}$ = São os pesos dos ativos.

Existia uma regra no qual dizia que para se diversificar o portfólio, deveria investir nos ativos com maior retorno esperado [@markowitz1952].

Essa regra é incorreta, dado que os retornos dos títulos são Inter correlacionados e, portanto, não é possível eliminar a variância [@markowitz1952].

Há cinco premissas que permeiam a teoria de Markowitz: o investidor considera as alternativas de investimento pela probabilidade do retorno esperado, a maximização da utilidade esperada e a sua curva marginal da riqueza decrescente, os riscos são estimados pela variabilidade do retorno esperado, a sua decisão é fundada na premissa de risco e retorno e por fim os investidores preferirão ativos com menos risco ao invés do mais arriscados e que também irão preferir maiores retornos ao invés de retornos menores [@abubakar2019].

No geral, a aplicação da teoria moderna de portfólio é mal compreendida. A diversificação não é garantia por um alto retorno comparado ao retorno mercado que se tem por referência, a proposta principal não é apenas manter uma cesta diversificada de ativos, mas também considerar a relação entre os ativos individuais da sua carteira [@ozdurak2022].

Ou seja, não é sobre o risco individual de cada ativo, e sim sobre como todos os demais se performam como um portfólio [@ozdurak2022].

Além disso aumenta a adoção mundial de criptomoedas junto com outras moedas estáveis, enquanto governos como china e índia proibiram o comercio. Dessa forma o risco maior é de curto prazo dado a falta de regulação e previsibilidade sobre esses novos ativos, além do mais as criptomoedas tem por sua característica o alto retorno e risco comparadas com ativos [@ozdurak2022].

O retorno do portfólio é calculado através da soma ponderada de variáveis aleatórias, no qual o investidor tem a livre escolha de selecionar o peso para tal ativo [@markowitz1952].

$$
R_{p} = \sum^{n}_{j = 1} w_{j}\mu_{j}
$$

Onde: $w_{j}$ = É o peso do ativo j, $\mu_{j}$ = Retorno esperado do ativo j.

O perfil de risco premia ao nível de risco assumido, isso pode ser medido ao utilizar o índice Sharpe no qual demonstra os retornos por unidade de risco aceitado [@ram2018].


$$ 
sr = \frac{R_{p} - R_{f}}{\sigma} 
$$

Onde: sr = índice Sharpe, $R_{p}$ = retorno do portfólio, $R_{f}$ = taxa livre de risco e $\sigma$ = desvio padrão.

O índice Sharpe é uma ferramenta que auxilia na comparação de performance entre ativos agrupados no portfólio, ao se calcular os retornos excessivos sobre a taxa livre de risco. Quanto maior for o índice Sharpe, mais retornos excessivos sobre a taxa livre de risco. Tem como finalidade a possibilidade de fornecer a fronteira eficiente entre diferentes portfólios [@ma2020].

A fronteira eficiente pode ser compreendida como uma linha no qual possui os melhores retornos aos níveis de risco assumidos sobre um conjunto de combinações possíveis na composição do portfólio, para tal ela utiliza o índice Sharpe como parâmetro [@silva2019].

A fronteira eficiente é composta por dois pontos extremos: o ponto de menor variância e o ponto de maior retorno esperado [@markowitz1952].

É valido ressaltar que a regra do retorno esperado e a variância não irá sempre ser superior a um portfólio não diversificado, dado que é possível um título possa ter altos rendimentos com baixa variância em relação aos demais [@markowitz1952].

# RESULTADOS {#sec-resultados}

A relação de risco e retorno esperado entre os ativos da carteira é demonstrada na @fig-RiscoxRetorno, o ativo de menor risco é `r less_riskier$asset` com um desvio padrão de `r less_riskier$sd` e retorno esperado de `r less_riskier$mean`. Enquanto o ativo de maior retorno esperado é `r more_proftible$asset` com o desvio padrão de `r more_proftible$sd` e retorno esperado de `r more_proftible$mean`.

```{R}
#| label: fig-RiscoxRetorno
#| fig-cap: Risco x Retorno dos ativos
#| fig-width: !expr figWidth
#| fig-height: !expr figHeight


asset_return_long %>%
  group_by(asset) %>%
  summarise(sd= sd(returns), mean= mean(returns)) %>%
  ggplot(aes(x=sd,y=mean,color=asset)) +
  geom_point(size=2, show.legend = FALSE) + 
  # scale_x_continuous(labels = scales::percent) +
  geom_text(aes(label = asset, y = mean + .005),size=2) +
    labs(y="Retorno esperado",
       x="Risco",
       colour="Ativo") +
  theme_bw() +
  theme(legend.position="none", plot.title = element_text(hjust = .5))
```

Em seguida foi verificado a matriz de correlação dos ativos e verificado que os ativos são positivamente correlacionados, veja na @tbl-correlacao e na @fig-correlacao.

A matriz de correlação é uma tabela que permite verificar como cada ativo se correlaciona com os demais, de modo que varia entre 1 e -1, quanto mais próximo de 1 significa que o os ativos se movem em sentidos iguais, enquanto os ativos mais próximos de -1 se movem em sentidos opostos e ativos iguais a 0 indica que não há correlação, portanto, se movem de forma independente.

```{R}
#| label: tbl-correlacao
#| tbl-cap: "Matriz de correlação dos ativos"

correlation2 = correlation_cryptocurrency %>% 
  as.data.frame() %>% 
  rownames_to_column("ATIVO")

kable(correlation2,
      format = "simple",
      digits = 3,
      format.args = list(scientific=FALSE,big.mark = ".",decimal.mark=","))


```

O gráfico de correlação permite visualmente verificar o coeficiente de autocorrelação entre os ativos. No gráfico foi adotado o formato elíptico que quanto mais perto de 1 ou -1 ele faz com que seu formato fique mais estreito, enquanto mais próximo de 0 ele fique no formato mais largo. Ele varia entre: a cor azul escuro, correlação igual 1, e a cor vermelho, correlação -1. A intensidade da cor é proporcional ao coeficiente de correlação. Um traço diagonal significa que o ativo foi comparado com ele mesmo.

```{R}
#| label: fig-correlacao
#| fig-cap: Gráfico de correlação dos ativos
#| fig-width: !expr figWidth
#| fig-height: !expr figHeight

corrplot(correlation_cryptocurrency, 
         #type="upper", 
         method = "ellipse",
         col=brewer.pal(n=length(symbols), name="RdYlBu"),
         tl.col = "black"
         )
```

Ao realizar as combinações dos ativos possíveis foram encontradas as 5 melhores combinações com base no índice Sharpe, conforme demonstrado na @tbl-melhoresCombinacoes. O ponto de tangência do portfólio com a combinação de `r textList(toPercent(as.numeric(summaryBestCombination)))` dos ativos distribuídos em `r textList(names(summaryBestCombination))` respectivamente, O índice Sharpe foi de `r round(bestCombination$sharpeRatePortfolio,4)`, desvio padrão de `r bestCombination$sd` e retorno esperado de `r bestCombination$mean`.

Já o ponto de menor variância do portfólio é composto por `r textList(toPercent(as.numeric(summarysafetyCombination)))` alocado em `r textList(names(summarysafetyCombination))` respectivamente, com um índice Sharpe de `r round(safetyCombination$sharpeRatePortfolio,4)`, desvio padrão de `r safetyCombination$sd` e retorno esperado de `r safetyCombination$mean`.

```{R}
#| label: tbl-melhoresCombinacoes
#| tbl-cap: "5 melhores combinações com base no índice Sharpe"

slice_max(possibilities,sharpeRatePortfolio,n=5) %>% 
  mutate_at(vars(1:length(symbols)),~paste0(.x*100,"%")) %>%
  mutate(sharpeRatePortfolio = round(sharpeRatePortfolio,4),
         sd = round(sd,4) ) %>%
  rename(`Índice Sharpe` = sharpeRatePortfolio,
  Risco=sd,
  `Retorno esperado`= mean) %>%
  kable(format = "simple") 


```

Ao realizar todas as `r format(nrow(possibilities),big.mark=".",decimal.mark=",")` combinações de carteira possíveis, foi traçado o gráfico de otimização de portfólio e fronteira eficiente no qual foi destacado as siglas **Rf** que significa a taxa livre de risco, **M.V** que significa o ponto de menor variância e a sigla **P.T** que se refere ao ponto de tangência, veja na @fig-fronteiraEficiente.

```{R}
#| label: fig-fronteiraEficiente
#| fig-cap: Otimização de portfólio & Fronteira eficiente
#| fig-width: !expr figWidth
#| fig-height: !expr figHeight


p = possibilities %>%
  ggplot(aes(x = sd, y = mean, color = sharpeRatePortfolio)) +
  geom_point() +
  geom_point(aes(x = sd,
                 y = mean), data = min_var, color = 'red') +
  geom_point(aes(x = sd,
                 y = mean), data = max_sr, color = 'red') +
  geom_text(x=min_var$sd - .025, y = min_var$mean,label="M.V", color = "red",size=3,check_overlap = T) +
  geom_text(x=max_sr$sd - .02, y = max_sr$mean,label="P.T", color = "red",size=3, check_overlap = T) +
  geom_text(x= 0.02,y=rfr,color="red",label="Rf",size=3, check_overlap = T) +
  geom_point(aes(x = 0,y=rfr),color="red") +
  expand_limits(x = 0, y = 0) +
  scale_x_continuous(expand = c(0, 0)) + 
  scale_y_continuous(expand = c(0, 0)) +
  labs(x = 'Risco',
       y = 'Retorno esperado',
       colour = "Índice sharpe") +
  theme_bw()


p + geom_segment(aes(x=0,
                     y=rfr,
                     xend= max_sr$sd,
                     yend=max_sr$mean), color="black")



```

Após otimizar o portfólio foi possível verificar a relação de risco e retorno entre o portfólio otimizado e o portfólio igualmente distribuído, no qual o portfólio igualmente distribuído apresenta um risco de `r sd_portfolio`, retorno esperado de `r mean_portfolio`, enquanto no portfólio otimizado apresenta um risco de `r sd_portfolio_optimized` e retorno esperado de `r mean_portfolio_optimized`, veja na @fig-RiscoxRetornoComparativo. Ou seja, o portfólio otimizado é `r toPercent((sd_portfolio_optimized - sd_portfolio)/sd_portfolio_optimized)` mais arriscado e `r toPercent((mean_portfolio_optimized - mean_portfolio)/mean_portfolio_optimized)` mais lucrativo que o portfólio igualmente distribuído.

```{R}
#| label: fig-RiscoxRetornoComparativo
#| fig-cap: Comparativo risco x retorno dos portfólios
#| fig-width: !expr figWidth
#| fig-height: !expr figHeight


data.frame(asset = c("Igualmente distribuído","Otimizado"),
           sd = c(sd_portfolio,sd_portfolio_optimized),
          mean = c(mean_portfolio,mean_portfolio_optimized)) %>%
  ggplot(aes(x=sd,y=mean,color=asset)) +
  geom_point(size=2, show.legend = T) + 
  labs(y="Retorno esperado",
       x="Risco",
       colour="Portfólio") +
  theme_bw() +
  theme(legend.position = "bottom")
```

Também foi comparado o índice Sharpe entre esses dois portfólios, veja na tabela  no qual resultou para o portfólio igualmente distribuido um valor de `r as.numeric(sr_portfolio)` e no portfólio otimizado um valor de `r sr_portfolio_optimized`. Ou seja, o índice Sharpe no portfólio otimizado é `r toPercent((as.numeric(sr_portfolio_optimized) - sr_portfolio)/as.numeric(sr_portfolio_optimized))` maior que o no portfólio igualmente distribuído.

```{R}
#| label: tbl-comparativePortfolio
#| tbl-cap: "Comparativo entre portfólios"

comparativePortfolio = summaryPortfolios %>%
  mutate_at(vars(1:Nsymbols+1),~paste0(.x*100,"%")) %>%
  setNames(c("Portfólio",symbols,"Índice Sharpe","Risco", "Retorno esperado")) 

kable(comparativePortfolio,
      format = "simple",
      digits = 3,
      format.args = list(scientific=FALSE,big.mark = ".",decimal.mark=","))


```

Por fim foi comparado os retornos mensais do portfólio igualmente distribuído, veja na @fig-retornoPortfolioIgualmenteDistribuido, contra os retornos mensais do portfólio otimizado, veja na @fig-retornoPortfolioOtimizado.

No qual confirma que o portfólio otimizado é mais arriscado com maiores retornos.

```{R}
#| label: fig-retornoPortfolioIgualmenteDistribuido
#| fig-cap: Retorno mensal do portfólio igualmente distribuído
#| fig-width: !expr figWidth
#| fig-height: !expr figHeight

portfolio_plot %>%
  ggplot(aes(x=date, y =returns,color=color)) +
  geom_point() +
  scale_color_manual(name="Legenda",
                      labels=c("Um desvio padrão acima da média",
                              "Estar entre um desvio padrão acima e abaixo da média",
                              "Um desvio padrão abaixo da média"),
                     values = c("darkblue"="darkblue","green"="green","red"="red")) +
  scale_x_date(breaks = pretty_breaks(n = 3)) +
  scale_y_continuous(breaks = pretty_breaks(n = 5),limits = c(yMin,yMax)) +
  geom_hline(yintercept = (mean_portfolio + sd_portfolio),
             color = "black",
             linetype = "dashed") +
  geom_hline(yintercept = (mean_portfolio- sd_portfolio),
             color = "black",
             linetype = "dashed") +
  theme_bw() +
  labs(x="Data",y="Retornos") +
  theme(legend.text=element_text(size=6),
        legend.position = "bottom",
        legend.spacing.x = unit(0,"mm"),
        legend.direction = "horizontal",
        legend.title = element_blank())


```

```{r}
#| label: fig-retornoPortfolioOtimizado
#| fig-cap: Retorno mensal do portfólio otimizado
#| fig-width: !expr figWidth
#| fig-height: !expr figHeight

portfolio_plot_optimized %>%
  ggplot(aes(x=date, y =returns,color=color)) +
  geom_point() +
  scale_color_manual(name="Legenda",
                     labels=c("Um desvio padrão acima da média",
                              "Estar entre um desvio padrão acima e abaixo da média",
                              "Um desvio padrão abaixo da média"),
                     values = c("darkblue"="darkblue","green"="green","red"="red")) +
  scale_x_date(breaks = pretty_breaks(n = 3)) +
  scale_y_continuous(breaks = pretty_breaks(n = 5),limits = c(yMin,yMax)) +
  geom_hline(yintercept = (mean_portfolio_optimized + sd_portfolio_optimized),
             color = "black",
             linetype = "dashed") +
  geom_hline(yintercept = (mean_portfolio_optimized- sd_portfolio_optimized),
             color = "black",
             linetype = "dashed") +
  theme_bw() +
  labs(x="Data",y="Retornos") +
  theme(legend.text=element_text(size=6),
        legend.position = "bottom",
        legend.spacing.x = unit(0,"mm") ,
        legend.direction = "horizontal",
        legend.title = element_blank())
```

De tal forma é possível verificar que a aplicação da teoria moderna de portfólio no mercado de criptomoedas é válida, pois através da teoria moderna de portfólio foi possível calcular diversas combinações de portfólio e encontrar a combinação que possuísse o melhor índice Sharpe.

# CONCLUSÂO {#sec-conclusao}

Ao longo deste estudo foi abordado o conceito de criptomoeda, seu funcionamento, os riscos e os benefícios da sua utilização, o conceito de moeda e porque as criptomoedas devam ser caracterizadas como um ativo financeiro tecnológico ao invés de uma moeda fiduciária, buscou compreender o conceito da teoria moderna de portfólio de Markowitz e os benefícios da sua aplicação no mercado de criptomoedas.

destaca-se nesse estudo, o fato do Brasil ser uns dos poucos países a ter uma legislação própria sobre criptomoedas e a limitar as corretoras de criptomoedas que operam sobre o território nacional, no qual são sujeitas a fiscalização. 

Ao analisar os resultados da aplicação da teoria moderna de otimização de portfólio de Markowitz no mercado de criptomoedas foi possível perceber em uma melhora nos resultados das aplicações financeiras utilizando como base o índice Sharpe. No qual foi comparado a carteira otimizada com uma carteira igualmente distribuída, resultando em um aumento do índice Sharpe de `r toPercent((as.numeric(sr_portfolio_optimized) - sr_portfolio)/as.numeric(sr_portfolio_optimized))`, no retorno esperado de `r toPercent((mean_portfolio_optimized - mean_portfolio)/mean_portfolio_optimized)` e no risco de `r toPercent((sd_portfolio_optimized - sd_portfolio)/sd_portfolio_optimized)`

Através desses resultados é possível inferir como positiva a aplicação desta teoria neste mercado financeiro emergente ao determinar o ponto de tangência, menor variância e traçar a fronteira eficiente do portfólio.

Foi encontrado durante o estudo a limitação temporal dos dados no qual a criptomoeda da Solana só há dados disponíveis a partir de 11/04/2020, dessa forma para poder comparar o portfólio foram utilizadas somente os dados de 11/04/2020 em diante. Outra limitação encontrada foi a memória computacional, no qual ao tentar verificar todas as combinações possíveis da carteira ao alterar em 0,05 da quantidade percentual alocado em determinados ativos, respeitado que o somatório de todos os ativos deva ser igual a 1, excedeu a memória limite disposta, para contornar tal problemática a variação em cada ativo passou pra 0,1.

É valido destacar que neste estudo foi utilizado a taxa SELIC como taxa livre de risco no qual por ser um mercado financeiro global fosse interessante a aplicação do mesmo estudo com a taxa livre de risco associada a B3, afim de verificar se com uma taxa mais baixa se a carteira otimizada se mantém como:`r textList(toPercent(as.numeric(summaryBestCombination)))` alocado em `r textList(names(summaryBestCombination))` respectivamente.

Além disso como pontos de aprofundamento sobre a teoria utilizada seria interessante a alocação de um ou mais ativos negativamente correlacionado na carteira a fim de verificar a performance do portfólio. Da mesma forma, seria interessante verificar a utilização das criptomoedas como um ativo diversificador de investimento em uma carteira de renda variável. Também seria valido uma comparação entre os retornos obtidos através de uma carteira de criptomoedas otimizada, uma carteira de renda variável otimizada e uma carteira otimizada composta de criptomoedas e renda variável. Por outra lado, a utilização de outros teorias de otimização de portfólio poderia trazer novas perspectivas e resultados, alguns exemplos de teorias de otimização de portfólio a ser aplicadas são: Valor ao risco (Var), Valor condicional ao risco (CVar) e abordagem de Fuzzy (fuzzy approach). Vale a pena analisar também sob o enfoque das finanças comportamentais devido a sua natureza especulativa. Por fim seria valido analisar os benefícios provindos da recente regulação brasileira sobre criptomoedas, tanto para a sociedade quanto para o desenvolvimento do mercado financeiro de criptomoedas.

Ao analisar os objetivos traçados na pesquisa foi possível obter os seguintes resultados em cada um deles: objetivo principal foi satisfeito ao conseguir aplicar a metodologia de portfólio de Markowitz no mercado de criptomoedas. No objetivo específico conceituar criptomoedas como ativos financeiros foi satisfeito ao realizar a revisão de literatura. No objetivo específico diferenciar o mercado criptoativo do mercado de renda variável foi satisfeito ao verificar sobre os pontos regulatórios e tecnológicos que ambos diferem. No objetivo específico analisar os impactos das regulações desse setor no Brasil foi satisfeito ao verificar que com a criação da lei 14.478/2022 ficou definido a classificação de criptomoeda, a equiparação das empresas prestadoras de serviços de criptomoedas com instituições financeiras e elas estariam sujeitas, ao conduzir operações relacionadas aos ativos digitais e ao código de defesa do consumidor. No objetivo específico comparar o resultado da utilização do método contra uma seleção de portifólio igualmente distribuído foi satisfeito ao resultar na melhora de performance do portfólio.

Por fim, devido as criptomoedas estarem em seu estágio de desenvolvimento e serem uma nova forma de aplicação financeira, independentes de uma autoridade central e regulatória, é preciso cautela e estudos mais aprofundados sobre todas as possibilidades de benefícios que é possível obter com o continuo avanço desse mercado e as inovações tecnológico provenientes da evolução das criptomoedas. Também procurar compreender todos os riscos para a sociedade e o sistema financeiro.


# BIBLIOGRAFIA {#sec-Bibliografia}
